{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/teacher-auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nexport let RoleGuard = /*#__PURE__*/(() => {\n  class RoleGuard {\n    constructor(teacherAuth, router, _snackbar) {\n      this.teacherAuth = teacherAuth;\n      this.router = router;\n      this._snackbar = _snackbar;\n    }\n\n    canActivate(route, state) {\n      let url = state.url;\n      return this.checkUserLogin(route, url); // if(this.teacherAuth.currentUser.role === 'Admin')\n      // return true;\n      // else\n      // this._snackbar.open(\"Access denied, You do not have that role to access.\", \"Ok\", {\n      //     duration: 5000,\n      //     panelClass: ['blue-snackbar']\n      // });\n      // this.router.navigate(['/home']);\n      // return false;\n    }\n\n    checkUserLogin(route, url) {\n      if (this.teacherAuth.isLoggedIn()) {\n        const userRole = this.teacherAuth.getRoleAdmin();\n\n        if (route.data['role'] && route.data['role'].indexOf(userRole) === -1) {\n          this._snackbar.open(\"Access denied, You do not have that role to access.\", \"Ok\", {\n            duration: 5000,\n            panelClass: ['blue-snackbar']\n          });\n\n          this.router.navigate(['/home']);\n          return false;\n        }\n\n        return true;\n      }\n\n      this.router.navigate(['/home']);\n      return false;\n    }\n\n  }\n\n  RoleGuard.ɵfac = function RoleGuard_Factory(t) {\n    return new (t || RoleGuard)(i0.ɵɵinject(i1.TeacherAuthService), i0.ɵɵinject(i2.Router), i0.ɵɵinject(i3.MatSnackBar));\n  };\n\n  RoleGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RoleGuard,\n    factory: RoleGuard.ɵfac\n  });\n  return RoleGuard;\n})();","map":null,"metadata":{},"sourceType":"module"}