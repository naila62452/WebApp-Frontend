{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/teacher-auth.service\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/snack-bar\";\nimport * as i5 from \"@angular/common\";\n\nfunction VerifyComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"Your email has been verified.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 2);\n    i0.ɵɵtext(4, \"Please login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction VerifyComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"h1\");\n    i0.ɵɵtext(2, \"This email has already been verified.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"a\", 2);\n    i0.ɵɵtext(4, \"Please login\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction VerifyComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2, \"Verification failed, The email verification link might have been expired. Please request verification link again.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nvar EmailStatus = /*#__PURE__*/(() => {\n  (function (EmailStatus) {\n    EmailStatus[EmailStatus[\"alreadyVerified\"] = 0] = \"alreadyVerified\";\n    EmailStatus[EmailStatus[\"Failed\"] = 1] = \"Failed\";\n    EmailStatus[EmailStatus[\"verified\"] = 2] = \"verified\";\n  })(EmailStatus || (EmailStatus = {}));\n\n  return EmailStatus;\n})();\nexport let VerifyComponent = /*#__PURE__*/(() => {\n  class VerifyComponent {\n    constructor(teacherService, http, route, _snackBar, router) {\n      this.teacherService = teacherService;\n      this.http = http;\n      this.route = route;\n      this._snackBar = _snackBar;\n      this.router = router;\n      this.EmailStatus = EmailStatus;\n      this.emailStatus = EmailStatus.alreadyVerified;\n    }\n\n    ngOnInit() {\n      const token = this.route.snapshot.params['token'];\n      this.teacherService.verifyEmail(token).subscribe(res => {\n        console.log(res);\n        this.emailStatus = EmailStatus.verified;\n\n        this._snackBar.open('Verification successful, you can now login.', \"Ok\", {\n          duration: 5000,\n          panelClass: ['blue-snackbar']\n        });\n      }, err => {\n        // debugger\n        var _a, _b;\n\n        if (((_a = err === null || err === void 0 ? void 0 : err.error) === null || _a === void 0 ? void 0 : _a.type) === \"already-verified\") this.emailStatus = EmailStatus.alreadyVerified;else if (((_b = err === null || err === void 0 ? void 0 : err.error) === null || _b === void 0 ? void 0 : _b.type) === 'not-verified') this.emailStatus = EmailStatus.Failed;\n      });\n    }\n\n  }\n\n  VerifyComponent.ɵfac = function VerifyComponent_Factory(t) {\n    return new (t || VerifyComponent)(i0.ɵɵdirectiveInject(i1.TeacherAuthService), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.MatSnackBar), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  VerifyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VerifyComponent,\n    selectors: [[\"app-verify\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"login\"], [4, \"ngIf\"], [\"href\", \"\", \"routerLink\", \"/authenticate/login\"]],\n    template: function VerifyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, VerifyComponent_div_1_Template, 5, 0, \"div\", 1);\n        i0.ɵɵtemplate(2, VerifyComponent_div_2_Template, 5, 0, \"div\", 1);\n        i0.ɵɵtemplate(3, VerifyComponent_div_3_Template, 3, 0, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.emailStatus == ctx.EmailStatus.verified);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.emailStatus == ctx.EmailStatus.alreadyVerified);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.emailStatus == ctx.EmailStatus.Failed);\n      }\n    },\n    directives: [i5.NgIf, i3.RouterLinkWithHref],\n    styles: [\"\"]\n  });\n  return VerifyComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}